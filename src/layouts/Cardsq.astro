---
import { string } from 'astro/zod';
import { seccion } from '../pages/promociones/index.astro';

export interface Props {
    post: {
      imagePath: string;
      title: {
         rendered: string;
      }
      content: string;
      slug: string;
      categories : {};
      yoast_head_json: {
         og_image: [
            {
               url: string;
            }
         ]
         article_published_time: string;
         author:string;         
      }
    };
    
}

const { post } = Astro.props;

var url_seccion;

switch (post.categories[0]){
    case 149:        
        url_seccion = 'pop-news';
    break;
    case 1606:        
        url_seccion = 'promociones';
    break;
    case 1207:
        url_seccion = 'eventos';
    break;
    case 156:
        url_seccion = 'entrevistas';
    break;      
}


/*const section = post.yoast_head_json.schema['@graph'][0].articleSection; 
console.log(section);*/

---

<div class="card w-full md:w-1/2 lg:w-1/3 xl:w-1/3 md:p-4 pb-4 ">
    <article class="overflow-hidden rounded-lg shadow-lg hover:shadow-xl border-2 border-pink-600">
        <a href={`/${url_seccion}/${post.slug}/`}>
            <img class="block h-auto w-full aspect-video" src={post.yoast_head_json.og_image[0].url} alt={post.title.rendered} />
        </a>
        <header class="flex items-center justify-between leading-tight p-2 md:p-4 min-h-40">
            <h2 class="text-base">
                <a class="no-underline text-purple-900 font-bold hover:text-gray-800" href={`/${url_seccion}/${post.slug}/`}>
                    {post.title.rendered}
                    
                </a>
            </h2>
        </header>
        <footer class="flex items-center justify-between p-2 text-xs font-bold uppercase text-gray-500">
            <div>{post.yoast_head_json.author}</div>
            <div>{post.yoast_head_json.article_published_time.substring(0, 10)}</div>
            </div>
        </footer>
    </article>
</div>
<!--div class="card w-full ">
    <a href={`/quickys/${post.slug}/`}>
        <figure class="bg-white">
            <img
                src={post.yoast_head_json.og_image[0].url}
                alt={post.title.rendered}
            />
        </figure>
    </a> 
    <div class="card-body p-4 rounded-b-md">
        <a href={`/quickys/${post.slug}/`}>
            <h5
                class="card-title uppercase min-h-32 transition duration-300 -inset-full h-full block transform -skew-x-12 bg-gradient-to-r from-gray-300 to-white group-hover:animate-shine"
                set:html={post.title.rendered}
            />
        </a>
        <div class="card-actions justify-end relative">
            <span class="text-left">{post.yoast_head_json.article_published_time.substring(0, 10)}</span>
            <span class="absolute right-0">{post.yoast_head_json.author}</span>
        </div>
        <div class="relative">
            <a href={`/promociones/${post.slug}/`}>
                <p class="text-gray-700 italic text-sm text-right"> Ver MÃ¡s</p>
            </a>
        </div>
    </div>
</div-->